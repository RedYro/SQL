<!doctype html>
<html lang="fr">
<head>
     <!-- Required meta tags -->
     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
     <!-- Bootstrap CSS v5.2.1 -->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
     integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
     <!-- Google font -->
     <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&family=Open+Sans&display=swap" rel="stylesheet"> 
     <!-- feuille de style -->
     <link rel="stylesheet" href="assets/css/style.css">
     <title>Clauses SQL</title>
</head>
<body>
     <header>
          <nav class="navbar navbar-expand-sm navbar-light bg-light  border-bottom border-dark">
               <div class="container-fluid">
                    <a class="navbar-brand" href="#"><img src="assets/img/logo.png" alt="logo"></a>
                    <button class="navbar-toggler d-lg-none" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavId" aria-controls="collapsibleNavId"
                         aria-expanded="false" aria-label="Toggle navigation">
                         <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="collapsibleNavId">
                         <ul class="navbar-nav me-auto mt-2 mt-lg-0">
                              <li class="nav-item">
                                   <a class="nav-link" href="index.html" >Acronyme</a>
                              </li>
                              <li class="nav-item">
                                   <a class="nav-link" href="cours.html">Cours</a>
                              </li>
                              <li class="nav-item">
                                   <a class="nav-link" href="clause_sql.html">Clauses SQL</a>
                              </li>
                              <li class="nav-item">
                                   <!-- <a class="nav-link" href="#">Link</a> -->
                              </li>
                         </ul>
                    </div>
               </div>
          </nav>
     </header>
     <div class="container">
            <!-- Début de main -->
          <main>
               <div class="row m-2 border border-dark p-5">
                   <div class="col-sm-12">
                       <h2 class="text-center">1 - Les requêtes de base</h2>
                       <hr>
                   </div>
                   <div class="col-sm-12 d-flex justify-content-center mt-5">
                       <ul>
                           <li>Créer une BDD : <strong> <code>CREATE DATABASE IF NOT EXISTS nomBdd</code></strong></li>
                           <li>Supprimer une BDD :  <strong> <code>DROP DATABASE IF EXIST nomBdd</code></strong> </li>
                           <li>Observer la description d'une table  : <strong> <code> DESC users</code></strong></li>
                           <li>Voir les BDD dans le serveur  : <strong> <code> SHOW DATABASES</code></strong></li>
                       </ul>
                   </div>
               </div> 
               <div class="row m-2 border border-dark p-5">
               <div class="col-sm-12">
                   <h2 class="text-center">2 - Tables et colonnes</h2>
                   <hr>
               </div>
               <div class="col-sm-12 d-flex justify-content-center mt-5">
                   <ul>
                         <li>Créer une BDD 'entreprise'</li>
                         <li>Créer une table dans la base 'entreprise':<br>
                              <strong><code>CREATE TABLE IF NOT EXISTS employes (<br>
                              id_employes INT(11) NOT NULL PRIMARY KEY AUTO_INCREMENT,<br>
                              prenom VARCHAR(20)  NULL,<br>
                              nom VARCHAR(20)  NULL,<br>
                              sexe ENUM ('f', 'm') NOT NULL,<br>
                              service VARCHAR(30)  NULL,<br>
                              date_embauche DATE  NULL,<br>
                              salaire FLOAT  NULL<br>
                              )</code></strong>
                         </li>
                         <li>Ici, on a d'abord créer un table. On va ensuite lui ajouter des colonnes auxquelle on va déjà attricuer des données.      
                         </li>
                         <li>Insérer des données dans une table :
                              <p><strong> <code>INSERT INTO employes (id_employes, prenom, nom, sexe, service, date_embauche, salaire) VALUES<br>
                                   (350, 'Jean-pierre', 'Laborde', 'm', 'direction', '1999-12-09', 5000),<br>
                                   (388, 'Clement', 'Gallet', 'm', 'commercial', '2000-01-15', 2300),<br>
                                   (415, 'Thomas', 'Winter', 'm', 'commercial', '2000-05-03', 3550),<br>
                                   (417, 'Chloe', 'Dubar', 'f', 'production', '2001-09-05', 1900),<br>
                                   (491, 'Elodie', 'Fellier', 'f', 'secretariat', '2002-02-22', 1600),<br>
                                   (509, 'Fabrice', 'Grand', 'm', 'comptabilite', '2003-02-20', 1900),<br>
                                   (547, 'Melanie', 'Collier', 'f', 'commercial', '2004-09-08', 3100),<br>
                                   (592, 'Laura', 'Blanchet', 'f', 'direction', '2005-06-09', 4500),<br>
                                   (627, 'Guillaume', 'Miller', 'm', 'commercial', '2006-07-02', 1900),<br>
                                   (655, 'Celine', 'Perrin', 'f', 'commercial', '2006-09-10', 2700),<br>
                                   (699, 'Julien', 'Cottet', 'm', 'secretariat', '2007-01-18', 1390),<br>
                                   (701, 'Mathieu', 'Vignal', 'm', 'informatique', '2008-12-03', 2000),<br>
                                   (739, 'Thierry', 'Desprez', 'm', 'secretariat', '2009-11-17', 1500),<br>
                                   (780, 'Amandine', 'Thoyer', 'f', 'communication', '2010-01-23', 1500),<br>
                                   (802, 'Damien', 'Durand', 'm', 'informatique', '2010-07-05', 2250),<br>
                                   (854, 'Daniel', 'Chevel', 'm', 'informatique', '2011-09-28', 1700),<br>
                                   (876, 'Nathalie', 'Martin', 'f', 'juridique', '2012-01-12', 3200),<br>
                                   (900, 'Benoit', 'Lagarde', 'm', 'production', '2013-01-03', 2550),<br>
                                   (933, 'Emilie', 'Sennard', 'f', 'commercial', '2014-09-11', 1800),<br>
                                   (990, 'Stephanie', 'Lafaye', 'f', 'assistant', '2015-06-02', 1775);
                              </code> </strong></p>                        
                         </li>
                         <li>
                              Syntaxe alternative : ne permet pas d'insérer plusieurs séries de valeurs en une seule requête,
                              contrairement à la syntaxe de base.
                         </li>
                       <li>
                          
                           <p><strong> <code>INSERT INTO users SET id_employes = 350 , prenom = 'Jean-pierre', nom = 'Laborde' , sexe = 'm' , service = 'direction', date_embauche = '1999-12-09', salaire = 5000 </code></strong></p>
                       </li>
                       <li>Effacer une table : <strong> <code>DROP TABLE nomTable</code></strong></li>  
                   </ul>
               </div>
               </div> 
               <div class="row m-2 border border-dark p-2">
                    <div class="col-sm-12">
                        <hr>
                        <h2 class="text-center" id="select">3- SELECT et DISTINCT</h2>
                        <hr>
                    </div>
                    <div class="col-sm-12 col-md-6 m-2">
                      <ul>
                          <li>Pour voir tous le contenu d'un table : <code>SELECT * FROM employes;</code></li>
                          <li class="alert alert-success">Sélectionner  les valeurs de deux champs d'une nomTable : <code>SELECT colonne, colonne FROM table;</code></li>
                          <li class="alert alert-success">Afficher les données sans doublons : <code>SELECT DISTINCT (colonne) FROM table;</code></li>
                          <li> Effacer un enregistrement : <strong> <code>DELETE FROM nomTable WHERE nom = ""</code></strong></li>
                      </ul>
                    </div>
                    <div class="col-sm-12 col-md-6">
                      <p class="alert alert-danger">Les requêtes ne sont pas sensibles à la casse mais une convention indique qu'il faut mettre les mots-clefs des requêtes en majuscules. C'est plus facile ainsi de s'y retrouver.</p>
                    </div>
               </div> <!-- fin de la row -->  
               <div class="row border border-dark p-2">
                    <div class="col-sm-12">
                         <hr>
                         <h2 class="text-center">4 - Opérateurs de comparaison</h2>
                         <hr>
                    </div>
                    <div class="col-sm-12 mt-5 text-center">
                         <table class="table table-striped table-hover">
                              <thead>
                                   <tr>
                                        <th scope="col">Opérateur </th>
                                        <th scope="col"> Symbole</th>
                                   </tr>
                              </thead>
                              <tbody>
                                   <tr>
                                        <th scope="row">=</th>
                                        <td>est égal à</td>
                                   </tr>
                                   <tr>
                                        <th scope="row">&gt;</th>
                                        <td>Strictement supérieur à</td>
                                   </tr>
                                   <tr>
                                        <th scope="row">&lt;</th>
                                        <td>Strictement inférieur à</td>
                                   </tr>
                                   <tr>
                                        <th scope="row">&gt;=</th>
                                        <td>Supérieur ou égal à</td>
                                   </tr>
                                   <tr>
                                        <th scope="row">&lt;=</th>
                                        <td>Inférieur ou égal à</td>
                                   </tr>
                                   <tr>
                                        <th scope="row">&gt; &lt; ou !=</th>
                                        <td>est différent de</td>
                                   </tr>
                              </tbody>
                         </table>
                    </div>
               </div>
               <div class="row border border-dark p-2">
                    <div class="col-sm-12">
                         <hr>
                         <h2 class="text-center">5 - Créer un ALIAS avec AS</h2>
                         <hr>
                    </div>
                    <div class="col-sm-12 mt-5">
                         <ul>
                              <li>Création d'un ALIAS pour renommer temporairement une colonne ou une table dans une requête. Cette astuce est particulièrement utile pour faciliter la lecture des requêtes</li>
                              <li> <code>SELECT nom, prenom, salaire*12 AS salaire_annuel FROM employes</code> </li>
                         </ul>
                    </div>
               </div>
               <div class="row border border-dark p-2">
                    <div class="col-sm-12">
                         <hr>
                         <h2 class="text-center">6 - Condtions et conditions multiples</h2>
                         <hr>
                    </div>
                    <div class="col-sm-12 col-md-3 mt-5">
                         <h6 class="text-center">Mot clé <em>WHERE</em> (à condition que)</h6>
                         <ul>
                              <li class="alert alert-success">Nous recherchons avec une condition une partie des données : <code>SELECT colonne, colonne FROM table WHERE colonne = 'donnée'</code></li>
                              <li>Ici, nous cherchons à trouver le nombre de personnes dont le sexe est masculin : <code>SELECT * FROM employes WHERE sexe = 'm'</code></li>
                              <li>Trouver la personne qui gagne 1390 : <code>SELECT * FROM employes WHERE salaire = 1390;</code></li>
                         </ul>
                    </div>
                    <div class="col-sm-12 col-md-3 mt-5">
                         <h6 class="text-center">Mot clé <em>WHERE</em> avec différents champs, différentes valeurs et AND</h6>
                         <ul>
                              <li>Nous cherchons l'employé qui gagne 2000€ et dont le service est commercial : <code>SELECT nom, prenom, service, salaire FROM employes WHERE salaire = 2300 AND service = 'commercial';</code></li>
                         </ul>
                    </div>
                    <div class="col-sm-12 col-md-3 mt-5">
                         <h6 class="text-center">Mot clé <em>WHERE</em> avec différents champs, différentes valeurs et OR</h6>
                         <ul>
                              <li>Nous cherchons les employés qui gagnent un salaire de 5000€ ou au moins de 2000€ : <code>SELECT nom, prenom, salaire FROM employes WHERE salaire = 5000 OR salaire &gt;= 2000;</code></li>
                         </ul>
                    </div>
                    <div class="col-sm-12 col-md-3 mt-5">
                         <h6 class="text-center">Mot clé <em>WHERE</em> et l'ordre de priorité sur les conditions AND et OR</h6>
                         <ul>
                              <li><code>SELECT nom, prenom, salaire, service FROM employes WHERE service = 'production' AND (salaire = 1900 OR salaire = 2300);</code></li>
                              <li>Lorsqu'il y a AND et OR au sein d'une même requête, le système lit la condition de la requête de la droite vers la gauche. Ainsi, il verra d'abord <code>salire = 2300 OR salaire = 1900</code> puis le service demandé.</li>
                              <li>Pour garantir l'ordre naturel de lecture (gauche à droite), nous utiliserons des parenthèses</li>
                              <li><code>SELECT nom, prenom, salaire, service FROM employes WHERE service = 'production' AND (salaire = 1900 OR salaire = 2300);</code></li>
                         </ul>
                    </div>
                    <div class="col-sm-12 col-md-4 mt-5">
                         <h6 class="text-center">Mot clé <em>WHERE</em> avec <em>BETWEEN</em> (entre ...)</h6>
                         <ul>
                              <li class="alert alert-success">Nous cherchons avec une condition une partie des données <code>SELECT * FROM table WHERE colonne BETWEEN donnée AND donnée</code></li>
                              <li>Ici, nous cherchons à trouver le nombre de personnes embauchées entre 2006 et 2010 : <code>SELECT * FROM `employes` WHERE date_embauche BETWEEN '2006-01-01' AND '2010-01-01';</code></li>
                              <li class="alert alert-danger">Dans une BDD les dates sont toujours au format États-Unis en YYYY-MM-DD</li>
                         </ul>
                    </div>
                    <div class="col-sm-12 col-md-4 mt-5">
                         <h6 class="text-center">Mot clé <em>WHERE</em> avec <em>LIKE</em></h6>
                         <ul>
                              <li><code>SELECT * FROM employes WHERE prenom LIKE 's%';</code></li>
                              <li>Affiche les employés dont dont le prénom commence par s</li>
                              <li>Cette façon de faire est très utile dans un motuer de recherche</li>
                              <li>Dans cette ligne de code, le % signifie que l'on recherche le s en début de mot, ainsi la suite de caractères vient après le s</li>
                              <li><code>SELECT * FROM employes WHERE prenom LIKE '%s%'</code></li>
                              <li>Avec la présence du % avant et après le caractère recherché, nous demandons au système de trouver des enregistrements contenant l'expression recherchée : affiche tous les prénoms qui contiennent la lettre s</li>
                         </ul>
                    </div>
                    <div class="col-sm-12 col-md-4 mt-5">
                         <h6 class="text-center">Mot clé <em>WHERE</em> avec <em>CURDATE() </em>(date courante)</h6>
                         <ul>
                             <li class="alert alert-success">Fonction prédéfinie avec ses parenthèses</li> 
                             <li>Requête qui donne la date du serveur, la date du jour : <code>SELECT CUREDATE()</code></li>
                             <li>Entre une date et aujourd'hui : <code>SELECT * FROM `employes` WHERE date_embauche BETWEEN '2010-01-01' AND CURDATE();</code></li>
                         </ul>
                    </div>
                    <div class="col-sm-12 col-md-4 mt-5">
                         <h6 class="text-center">Mot clé <em>WHERE</em> avec <em>IN</em></h6>
                         <ul>
                             <li>Trouver les employés de la comptabilité et du service informatique : <code>SELECT nom, prenom, service FROM `employes` WHERE service IN ('comptabilité', 'informatique');</code></li>
                             <li>Égal (=) permet d'annoncer une seule valeur alors que IN permet d'annoncer plusieurs valeurs</li>
                         </ul>
                    </div>
                    <div class="col-sm-12 col-md-4 mt-5">
                         <h6 class="text-center">Mot clé <em>WHERE</em> avec <em>NOT IN</em></h6>
                         <ul>
                             <li>Trouver les employés qui ne sont pas en comptabilité et au service informatique : <code>SELECT nom, prenom, service FROM `employes` WHERE service NOT IN ('comptabilité', 'informatique');</code></li>
                             <li>Différent (!=) permet d'exclure une seule valeur alors que NOT IN permet d'exclure plusieurs valeurs</li>
                         </ul>
                    </div>
               </div>
          </main> 
     </div> 
     <!-- fin du container fluid -->
     <footer>
     <!-- place footer here -->
     </footer>
     <!-- Bootstrap JavaScript Libraries -->
     <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js" integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous"></script>
</body>
</html>