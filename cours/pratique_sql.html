<head>
  
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&family=Open+Sans&display=swap" rel="stylesheet"> 
    <!-- feuille de style -->
    <link rel="stylesheet" href="assets/css/style.css">
    <title>Pratique SQL</title>
</head>

<body>
   <header>
       <nav class="navbar navbar-expand-sm navbar-light bg-light  border-bottom border-dark">
           <div class="container-fluid">
               <a class="navbar-brand" href="#"><img src="assets/img/logo.png" alt="logo"></a>
               <button class="navbar-toggler d-lg-none" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavId" aria-controls="collapsibleNavId"
                       aria-expanded="false" aria-label="Toggle navigation">
                       <span class="navbar-toggler-icon"></span>
               </button>
               <div class="collapse navbar-collapse" id="collapsibleNavId">
                       <ul class="navbar-nav me-auto mt-2 mt-lg-0">
                           <li class="nav-item">
                               <a class="nav-link" href="index.html" >Acronyme</a>
                           </li>
                           <li class="nav-item">
                               <a class="nav-link" href="cours.html">cours</a>
                           </li>
                           <li class="nav-item">
                               <a class="nav-link" href="clause_sql.html">Les clauses SQL</a>
                           </li>
                           <li class="nav-item">
                               <a class="nav-link" href="pratique_sql.html">Pratique SQL</a>
                           </li>
                       </ul>
               </div>
       </div>
       </nav>
   
    </header>
    <div class="container"> 
        <!-- Début de main -->
        <main>    
            <div class="row border p-2">
                <div class="col-sm-12">
                   <hr>
                   <h2 class="text-center" id="insert">Exercices</h2>
                   <hr>
                </div>
                <div class="col-sm-12 py-5 mt-5 border border-dark">
                    <h3 class="text-center">BDD employes</h3>
                    <ul>                       
                       <li>Afficher le nom , le prénom et le service des employés qui ont une lettre t à la fin du prénom et travailent dans le service  commercial et comptabilité : <br>
                            <code> -> SELECT nom, prenom, service FROM `employes` WHERE prenom LIKE '%t' AND service IN ('commercial' ,'comptabilité');</code>
                       </li>
                       <li>
                            le nom , le prénom et la date d'embauche des employés qui ont été embaucher après 2007 et ont le sexe = 'f ' : <br>
                            <code> -> SELECT  `prenom`, `nom`, `sexe`, `date_embauche` FROM `employes` WHERE date_embauche BETWEEN '2007-01-01' AND CURDATE() AND sexe='f';                            
                            </code> <br>
                            ou <br>
                            <code> -> SELECT  `prenom`, `nom`, `sexe`, `date_embauche` FROM `employes` WHERE date_embauche >= '2007-01-01' AND sexe='f';</code>
                       </li>
                       <li>
                            Afficher les différents salaire touchées dans la base entreprise :  <br>
                            <code> -> SELECT DISTINCT salaire FROM employes;</code>
                       </li>
                       <li>
                            Afficher les noms des employés qui ont un salaire entre 1400 et 4000 :  <br>
                            <code> -> SELECT nom, salaire FROM employes WHERE salaire BETWEEN 1400 and 4000;</code>
                       </li>
                       <li>
                            Afficher le nombre d'employés par salaire : <br>
                            <code> -> SELECT salaire, COUNT(*) AS salaires_employes FROM `employes` GROUP BY salaire;</code>
                       </li>
                       <li>Afficher la profession de l'employé 547 : <br>
                            <code> -> SELECT service, id_employes FROM `employes` WHERE id_employes = 547;</code>
                       </li>
                       <li>Afficher la date d'embauche d'Amandine : <br>
                            <code> -> SELECT date_embauche, prenom, nom FROM `employes` WHERE prenom = 'Amandine';</code>
                       </li>
                       <li>Afficher le nombre de commerciaux : <br>
                            <code> -> SELECT service, COUNT(*) FROM `employes` WHERE service = 'commercial';</code>
                       </li>
                       <li>Afficher le coût des commerciaux sur une année : <br>
                            <code> -> SELECT service, SUM(salaire*12) FROM `employes` WHERE service = 'commercial'; </code>
                       </li>
                       <li>Afficher le salaire moyen par service : <br>
                            <code> -> SELECT AVG(salaire), service FROM `employes` GROUP BY service;</code>
                       </li>
                       <li>Afficher le nombre de recrutement sur l'année 2010 : <br>
                            <code> -> SELECT date_embauche FROM `employes` WHERE date_embauche BETWEEN '2010-01-01' AND '2011-01-01';</code> <br>
                            ou
                            <code> -> SELECT date_embauche FROM `employes`  WHERE date_embauche LIKE '2010%';</code>
                       </li>
                       <li>Augmenter le salaire pour chaque employé de 100€ : <br>
                            <code> -> UPDATE `employes` SET `salaire`= `salaire` + 100;</code>
                       </li>
                       <li>Afficher le nombre de service : <br>
                            <code> -> SELECT COUNT(DISTINCT(service)) AS nombre_service FROM `employes`;</code>
                       </li>
                       <li>
                           Afficher 10 employés à partir de l'enregistrement 10 : <br>
                           <code> -> SELECT * FROM `employes` LIMIT 10,10;</code> 
                       </li>
                       <li>
                           Afficher les salaires qui sont touchées par plus qu'un employé : <br>
                           <code> -> SELECT salaire, COUNT(*) FROM `employes` GROUP BY salaire HAVING COUNT(*) > 1;</code>
                       </li>
                       <li>Afficher les informations de l'employé du service commercial gagnant le salaire le plus élevé : <br>
                        <code> -> SELECT * FROM `employes` WHERE service = 'commercial' AND salaire IN (SELECT MAX(salaire) FROM employes WHERE service = 'commercial');</code> <br>
                        <code> -> SELECT * FROM `employes` WHERE salaire IN (SELECT MAX(salaire) FROM employes WHERE service = 'commercial');</code>

                       </li>
                       <li>Afficher l'employé ayant été embauché en dernier : <br>
                        <code> -> SELECT * FROM `employes` ORDER BY date_embauche DESC LIMIT 0,1;</code> <br>
                        <code> -> SELECT * FROM employes WHERE date_embauche IN (SELECT MAX(date_embauche) FROM employes);</code>
                       </li>
                    </ul>
                </div>
                <div class="col-sm-12 py-5 mt-5 border border-dark">
                    <h3 class="text-center">BDD haribo</h3>
                    <ul>
                        <li>Lister toutes les BDD de PHPMyAdmin : <br> <code>-> SHOW DATABASES;</code></li>
                        <li>Créer une base de données SQL nommée HARIBO : <br> <code>-> CREATE DATABASE HARIBO;</code></li>
                        <li>Créer les tables stagiaire, bonbon et mange_bonbon : <br> <code>-> CREATE TABLE stagiaire(id_users int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, name VARCHAR(20), color VARCHAR(20), sexe ENUM('f', 'm'));</code> <br> <code>-> CREATE TABLE bonbons(id_bonbon int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, name VARCHAR(20), goût VARCHAR(20));</code> <br> <code>-> CREATE TABLE mange_bonbon(id_manger int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, id_bonbon int(11) NULL, id_stagiaire int(11) NULL, date_manger DATE NULL, quantite INT(11));</code></li>
                        <li>Insérer dans ces tables les informations suivantes : <br> -- -> table stagiaire
                            -- ('jhordan', 'marron','m'),('MohamedA', 'marron','m'),('Anas', 'marron','m'),
                            -- ('MohamedB', 'marron','m'),('Mehdi', 'marron','m'),('Mathieu', 'marron','m'),
                            -- ('Hakim', 'marron','m'),('Sonia', 'marron','f'),('Julie', 'marron','f'),
                            -- ('Assa', 'marron','f'), ('Magalie', 'marron','f'),('Yvette', 'marron','f') <br> -- -> table bonbon 
                            -- ('dragibus', 'cola'), ('tagada', 'fraise'), ('bams', 'banane'),('rotella', 'reglisse'),('floppys', 'sucre'),('rainbollows', 'marshmallow'),('bigharri', 'cerise'), ('oursor', 'fruits'),('croco', 'fruits'),('oeufoplat', 'guimauve'),
                            -- ('flanbotti', 'caramel') <br> -- -> table mange bonbon 
                            -- (4,7,'2018-12-20', 5),(1,1,'2018-12-05', 5),(2,2,'2018-12-03', 5),(3,3,'2018-12-04', 5),(5,4,'2018-12-15', 5),(6,5,'2018-12-18', 5),(7,6,'2018-12-22', 5),(8,8,'2018-12-25', 5),(9,9,'2018-12-24', 5),(10,10,'2018-12-01', 5),(11,11,'2018-12-06', 5) : <br> <code>-> INSERT INTO stagiaire (name, color, sexe) VALUES ('Jhordan', 'marron', 'm'),('MohamedA', 'marron', 'm'),('Anas','marron','m'),('MohamedB','marron','m'),('Mehdi','marron','m'),('Mathieu','marron','m'),('Hakim','marron','m'),('Sonia','marron','f'),('Julie','marron','f'),('Assa','marron','f'),('Magalie','marron','f'),('Yvette','marron','f');</code> <br> <code>-> INSERT INTO bonbons (name, goût) VALUES ('dragibus', 'cola'),('tagada', 'fraise'),('bams','banane'),('rotella','reglisse'),('floppys','sucre'),('rainbollows','marshmallow'),('bigharri','cerise'),('oursor','fruits'),('croco','fruits'),('oeufoplat','guimauve');</code> <br> <code>-> INSERT INTO mange_bonbon (id_bonbon, id_stagiaire, date_manger, quantite) VALUES (4, 7, '2018-12-20', 5),(1, 1, '2018-12-05', 5),(2, 2,'2018-12-03', 5),(5, 4, '2018-12-18', 5),(6, 5,'2018-12-18', 5),(7, 6, '2018-12-22', 5),(8, 8, '2018-12-25', 5),(9, 9,'2018-12-24', 5),(10, 10 ,'2018-12-01', 5),(11, 11, '2018-12-06', 5);</code></li>
                        <li>Lister les tables de la BDD *haribo* : <br> <code>-> SHOW TABLES;</code></li>
                        <li>Voir les paramètres de la table *bonbon* : <br> <code>-> DESC bonbons;</code> <br> <code>-> SHOW COLUMNS FROM bonbons;</code> <br> <code>-> DESCRIBE bonbons;</code></li>
                        <li>Sélectionner tous les champs de tous les enregistrements de la table *stagiaire*: <br> <code>-> SELECT * FROM stagiaire;</code></li>
                        <li>Rajouter un nouveau stagiaire *Patriiiick* en forçant la numérotation de l'id : <br> <code>-> INSERT INTO stagiaire (id_users , name, color, sexe) VALUES (100, 'Patriiiick', 'bleu', 'm');</code> <br> <code>-> INSERT INTO stagiaire SET id_users = 100, name = 'Patriiiick', color ='bleu', sexe = 'm';</code></li>
                        <li>Rajouter un nouveau stagiaire *Mila* SANS forcer la numérotation de l'id : <br> <code>-> INSERT INTO stagiaire (name, color, sexe) VALUES ('Mila', 'marron', 'f');</code></li>
                        <li>Changer le prénom du stagiaire qui a l'id 100 de *Patriiiick* à *Patrick* : <br> <code>-> UPDATE stagiaire SET name = 'Patrick' WHERE name = 'Patriiiick';</code> <br> <code>-> UPDATE stagiaire SET name = 'Patrick' WHERE id_users = 100;</code></li>
                        <li>Rajouter dans la table manger que Patrick a mangé 5 Tagada purple le 15 septembre: <br> <code>-> INSERT INTO bonbons (name, goût) VALUES ('tagada', 'purple');</code> <br> <code>-> INSERT INTO mange_bonbon (id_bonbon, id_stagiaire, date_manger, quantite) VALUES (2, 100, '2018-09-15', 5); </code></li>
                        <li>Sélectionner tous les noms des bonbons <br> <code>-> SELECT name FROM bonbons;</code></li>
                        <li>Sélectionner tous les noms des bonbons en enlevant les doublons : <br> <code>-> SELECT DISTINCT(name) FROM bonbons;</code></li>
                        <li>Récupérer les couleurs des yeux des stagiaires (Sélectionner plusieurs champs dans une table) : <br> <code>-> SELECT color, name FROM stagiaire;</code></li>
                        <li>Dédoublonner un résultat sur plusieurs champs : <br> <code>-> SELECT name, color FROM stagiaire GROUP BY color;</code></li>
                        <li>Sélectionner le stagiaire qui a l'id 5 : <br> <code>-> SELECT name FROM stagiaire WHERE id_users = 5;</code></li>
                        <li>Sélectionner tous les stagiaires qui ont les yeux marrons : <br> <code>-> SELECT name, color FROM stagiaire WHERE color = 'marron';</code></li>
                        <li>Sélectionner tous les stagiaires dont l'id est plus grand que 9 : <br> <code>-> SELECT name, id_users FROM stagiaire WHERE id_users > 9;</code></li>
                        <li>Sélectionner tous les stagiaires SAUF celui dont l'id est 13 (soyons supersticieux !) :!\ il y a 2 façons de faire : <br> <code>-> SELECT name, id_users FROM stagiaire WHERE id_users != 13;</code> <br> <code>-> SELECT name, id_users FROM stagiaire WHERE (id_users > 13) OR (id_users &lt; 13);</code></li>
                        <li>Sélectionner tous les stagiaires qui ont un id inférieur ou égal à 10 : <br> <code>-> SELECT name, id_users FROM stagiaire WHERE id_users <= 10;</code> <br> <code>-> SELECT name, id_users FROM stagiaire WHERE id_users &lt;= 11 AND id_users >= 7</code></li>
                        <li>Sélectionner tous les stagiaires dont l'id est compris entre 7 et 11 : <br> <code>-> SELECT name, id_users FROM stagiaire WHERE id_users BETWEEN 7 AND 11;</code></li>
                        <li>Sélectionner les stagiaires dont le prénom commence par un *S* : <br> <code>-> SELECT name FROM stagiaire WHERE name LIKE 's%';</code></li>
                        <li> Trier les stagiaires femmes par id décroissant : <br> <code>-> SELECT name, id_users FROM stagiaire WHERE sexe = 'f' ORDER BY id_users DESC</code></li>
                        <li>Trier les stagiaires hommes par prénom dans l'ordre alphabétique : <br> <code>-> SELECT name FROM stagiaire WHERE sexe = 'm' ORDER BY name ASC;</code></li>
                        <li>Trier les stagiaires en affichant les femmes en premier et en classant les couleurs des yeux dans l'ordre alphabétique : <br> <code>-> SELECT * FROM stagiaire  ORDER BY sexe ASC, color ASC;</code></li>
                        <li>Limiter l'affichage d'une requête de sélection de tous les stagiaires aux 3 premires résultats : <br> <code>-> SELECT * FROM stagiaire LIMIT 0,3;</code></li>
                        <li>Limiter l'affichage d'une requête de sélection de tous les stagiaires à partir du 3ème résultat et des 5 suivants : <br> <code>-> SELECT * FROM stagiaire LIMIT 3,5;</code></li>
                        <li>Afficher les 4 premiers stagiaires qui ont les yeux marron : <br> <code>-> SELECT name, color, id_users FROM stagiaire WHERE color = 'marron' LIMIT 0,4;</code></li>
                        <li>Pareil mais en triant les prénoms dans l'ordre alphabétique : <br> <code>-> SELECT * FROM stagiaire WHERE color = 'marron' ORDER BY name ASC LIMIT 0,4;</code></li>
                        <li>Compter le nombre de stagiaires : <br> <code>-> SELECT COUNT(*) AS nombre_stagiaires FROM stagiaire;</code></li>
                        <li>Compter le nombre de stagiaires hommes mais en changeant le nom de la colonne de résultat par *nb_stagiaires_H* : <br> <code>-> SELECT sexe, COUNT(*) AS nb_stagiaires_H FROM stagiaire WHERE sexe = 'm';</code></li>
                        <li>Compter le nombre de couleurs d'yeux différentes : <br> <code>-> SELECT COUNT(DISTINCT(color)) AS eyes_different_color FROM stagiaire;</code></li>
                        <li>Afficher le prénom et les yeux du stagiaire qui a l'id le plus petit : <br> <code>-> SELECT MIN(id_users), name, color FROM stagiaire;</code></li>
                        <li>Afficher le prénom et les yeux du stagiaire qui a l'id le plus grand /!\ c'est une requête imbriquée qu'il faut faire (requête sur le résultat d'une autre requête) <br> <code>-> SELECT name, color, id_users FROM stagiaire WHERE id_users = (SELECT MAX(id_users) FROM stagiaire);</code></li>
                        <li>Afficher les stagiaires qui ont les yeux bleu et vert : <br> <code>-> SELECT color, name FROM stagiaire WHERE color != 'marron';</code> <br> <code>-> SELECT * FROM stagiaire WHERE color IN ('vert','bleu');</code> <br> <code>-> SELECT * FROM stagiaire WHERE (color = 'vert' OR color = 'bleu');</code> <code>-> SELECT * FROM stagiaire WHERE (color = 'vert' || color = 'bleu');</code></li>
                        <li>A l'inverse maintenant, afficher les stagiaires qui n'ont pas les yeux bleu ni vert : <br> <code>-> SELECT color, name FROM stagiaire WHERE color = 'marron';</code> <br> <code>-> SELECT * FROM stagiaire WHERE color != 'bleu' AND color !='vert';</code> <br> <code>-> SELECT name, color FROM stagiaire WHERE color NOT IN ('vert', 'bleu'); </code></li>
                        <li>Afficher combien de bonbons ont été consommés au total : <br> <code>-> SELECT SUM(quantite) AS bonbon_manger FROM mange_bonbon;</code></li>
                        <li>Afficher les saveurs des bonbons (sans doublons) : <br> <code>-> SELECT goût FROM bonbons GROUP BY goût;</code> <br> <code>-> SELECT DISTINCT goût FROM bonbons;</code></li>
                        <li>Afficher tous les stagiaires qui ont mangé des bonbons : <br> <code>-> SELECT s.name, b.name FROM stagiaire s, bonbons b, mange_bonbon m_b WHERE s.id_users = m_b.id_stagiaire AND b.id_bonbon = m_b.id_bonbon;</code> <br> <code>-> SELECT name FROM stagiaire WHERE id_users IN (SELECT id_stagiaire FROM mange_bonbon);</code></li>
                        <li>Récupérer les informations sur les stagiaires qui ont mangé plus d'un bonbon : <br> <code>-> SELECT s.name, s.id_users, m_b.quantite FROM stagiaire s, bonbons b, mange_bonbon m_b WHERE s.id_users = m_b.id_stagiaire AND b.id_bonbon = m_b.id_bonbon AND m_b.quantite > 1;</code> <br> <code>-> SELECT name FROM stagiaire WHERE id_users IN (SELECT id_stagiaire FROM mange_bonbon WHERE quantite > 1);</code></li>
                        <li>Afficher le prénom, le nom des bonbons et la date de consommation pour tous les stagiaires qui en ont mangé au moins une fois : <br> <code>-> SELECT s.name, s.id_users, m_b.quantite, m_b.date_manger FROM stagiaire s, bonbons b, mange_bonbon m_b WHERE s.id_users = m_b.id_stagiaire AND b.id_bonbon = m_b.id_bonbon AND m_b.quantite >= 1;</code></li>
                        <li>Afficher le nombre de Tagada consommés : <br> <code>-> SELECT b.name, COUNT(m_b.quantite) FROM bonbons b, mange_bonbon m_b WHERE b.id_bonbon = m_b.id_bonbon AND b.name LIKE 'tagada%';</code></li>
                        <li>Afficher le total de Tagada consommés : <br> <code>-> SELECT b.name, SUM(m_b.quantite) FROM bonbons b, mange_bonbon m_b WHERE b.id_bonbon = m_b.id_bonbon AND b.name LIKE 'tagada%';</code></li>
                        <li>Afficher le prénom de la personne ayant consommé le plus de bonbon : <br> <code>-> SELECT s.name, m_b.quantite FROM stagiaire s, bonbons b, mange_bonbon m_b WHERE b.id_bonbon = m_b.id_bonbon AND s.id_users = m_b.id_stagiaire AND m_b.quantite IN (SELECT MAX(m_b.quantite) FROM mange_bonbon m_b);</code></li>
                    </ul>
                </div>
                <div class="col-sm-12 py-5 mt-5 border border-dark">
                    <h3 class="text-center">BDD immobilier</h3>
                    <ul>
                        <li>Création de la BDD 'immobilier'<code>-> CREATE DATABASE immobilier;</code></li>
                        <li>Création des tables agence, demande, logement, logement_agence, logement_personne, personne : <br> <code>-> CREATE TABLE agence(id_agence INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, nom VARCHAR(20), adresse VARCHAR(100));</code> <br> <code>-> CREATE TABLE demande(id_demande INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, id_personne INT(11), genre ?(), ville VARCHAR(100), budget FLOAT NULL, superficie_m² FLOAT NULL, catagorie ENUM('maison', 'appartement') NOT NULL)</code> <br> <code>-> CREATE TABLE logement</code> <br> <code>-> CREATE TABLE logement_agence</code> <br> <code>-> CREATE TABLE logement_personne</code> <br> <code>-> CREATE TABLE personne</code></li>
                        <li><code>-> </code></li>
                    </ul>
                </div>
            </div>      
        </main>  
    </div> <!-- fin du container fluid -->

<!-- Récupérer le nom , le prénom et le service des employé qui ont une lettre t à la fin du prénom et stravailent dans le service  commercial et comptabilité -->
<!-- SELECT nom, prenom, service FROM `employes` WHERE prenom LIKE '%t' AND service IN ('comptabilite', 'commercial');  -->

<!-- Récupérer le nom , le prénom et la date d'embauche des employés qui ont été embaucher après 2007 et ont le sexe = 'f '  -->
<!-- SELECT nom, prenom, sexe, date_embauche FROM `employes` WHERE sexe = 'f' AND date_embauche BETWEEN '2007-01-01' AND '2023/01/01';  -->
<!-- ou -->
<!-- SELECT nom, prenom, sexe, date_embauche FROM `employes` WHERE sexe = 'f' AND date_embauche BETWEEN '2007-01-01' AND CURDATE();  -->
<!-- ou -->
<!-- SELECT nom, prenom, sexe, date_embauche FROM `employes` WHERE sexe = 'f' AND date_embauche >= '2007-01-01';  -->

<!-- Récuperer les différents salaire touchées dans la base entreprise  -->
<!-- SELECT DISTINCT salaire FROM `employes`;  -->

<!-- Récuperer les noms des employés qui ont un salaire entre 1400 et 4000 -->
<!-- SELECT nom, salaire FROM `employes` WHERE salaire BETWEEN 1400 AND 4000;  -->


<!-- SELECT salaire, COUNT(*) AS salaires_employes FROM `employes` GROUP BY salaire; -->

   <!-- Bootstrap JavaScript Libraries -->
   <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
   integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
   </script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
   integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
   </script>
</body>