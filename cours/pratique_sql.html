<head>
  
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&family=Open+Sans&display=swap" rel="stylesheet"> 
    <!-- feuille de style -->
    <link rel="stylesheet" href="assets/css/style.css">
    <title>Pratique SQL</title>
</head>

<body>
   <header>
       <nav class="navbar navbar-expand-sm navbar-light bg-light  border-bottom border-dark">
           <div class="container-fluid">
               <a class="navbar-brand" href="#"><img src="assets/img/logo.png" alt="logo"></a>
               <button class="navbar-toggler d-lg-none" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavId" aria-controls="collapsibleNavId"
                       aria-expanded="false" aria-label="Toggle navigation">
                       <span class="navbar-toggler-icon"></span>
               </button>
               <div class="collapse navbar-collapse" id="collapsibleNavId">
                       <ul class="navbar-nav me-auto mt-2 mt-lg-0">
                           <li class="nav-item">
                               <a class="nav-link" href="index.html" >Acronyme</a>
                           </li>
                           <li class="nav-item">
                               <a class="nav-link" href="cours.html">cours</a>
                           </li>
                           <li class="nav-item">
                               <a class="nav-link" href="clause_sql.html">Les clauses SQL</a>
                           </li>
                           <li class="nav-item">
                               <a class="nav-link" href="pratique_sql.html">Pratique SQL</a>
                           </li>
                       </ul>
               </div>
       </div>
       </nav>
   
    </header>
    <div class="container"> 
        <!-- Début de main -->
        <main>    
            <div class="row border p-2">
                <div class="col-sm-12">
                   <hr>
                   <h2 class="text-center" id="insert">Exercices</h2>
                   <hr>
                </div>
                <div class="col-sm-12 py-5 mt-5 border border-dark">
                    <h3 class="text-center">BDD employes</h3>
                    <ul>                       
                       <li>Afficher le nom , le prénom et le service des employés qui ont une lettre t à la fin du prénom et travailent dans le service  commercial et comptabilité : <br>
                            <code> -> SELECT nom, prenom, service FROM `employes` WHERE prenom LIKE '%t' AND service IN ('commercial' ,'comptabilité');</code>
                       </li>
                       <li>
                            le nom , le prénom et la date d'embauche des employés qui ont été embaucher après 2007 et ont le sexe = 'f ' : <br>
                            <code> -> SELECT  `prenom`, `nom`, `sexe`, `date_embauche` FROM `employes` WHERE date_embauche BETWEEN '2007-01-01' AND CURDATE() AND sexe='f';                            
                            </code> <br>
                            ou <br>
                            <code> -> SELECT  `prenom`, `nom`, `sexe`, `date_embauche` FROM `employes` WHERE date_embauche >= '2007-01-01' AND sexe='f';</code>
                       </li>
                       <li>
                            Afficher les différents salaire touchées dans la base entreprise :  <br>
                            <code> -> SELECT DISTINCT salaire FROM employes;</code>
                       </li>
                       <li>
                            Afficher les noms des employés qui ont un salaire entre 1400 et 4000 :  <br>
                            <code> -> SELECT nom, salaire FROM employes WHERE salaire BETWEEN 1400 and 4000;</code>
                       </li>
                       <li>
                            Afficher le nombre d'employés par salaire : <br>
                            <code> -> SELECT salaire, COUNT(*) AS salaires_employes FROM `employes` GROUP BY salaire;</code>
                       </li>
                       <li>Afficher la profession de l'employé 547 : <br>
                            <code> -> SELECT service, id_employes FROM `employes` WHERE id_employes = 547;</code>
                       </li>
                       <li>Afficher la date d'embauche d'Amandine : <br>
                            <code> -> SELECT date_embauche, prenom, nom FROM `employes` WHERE prenom = 'Amandine';</code>
                       </li>
                       <li>Afficher le nombre de commerciaux : <br>
                            <code> -> SELECT service, COUNT(*) FROM `employes` WHERE service = 'commercial';</code>
                       </li>
                       <li>Afficher le coût des commerciaux sur une année : <br>
                            <code> -> SELECT service, SUM(salaire*12) FROM `employes` WHERE service = 'commercial'; </code>
                       </li>
                       <li>Afficher le salaire moyen par service : <br>
                            <code> -> SELECT AVG(salaire), service FROM `employes` GROUP BY service;</code>
                       </li>
                       <li>Afficher le nombre de recrutement sur l'année 2010 : <br>
                            <code> -> SELECT date_embauche FROM `employes` WHERE date_embauche BETWEEN '2010-01-01' AND '2011-01-01';</code> <br>
                            ou
                            <code> -> SELECT date_embauche FROM `employes`  WHERE date_embauche LIKE '2010%';</code>
                       </li>
                       <li>Augmenter le salaire pour chaque employé de 100€ : <br>
                            <code> -> UPDATE `employes` SET `salaire`= `salaire` + 100;</code>
                       </li>
                       <li>Afficher le nombre de service : <br>
                            <code> -> SELECT COUNT(DISTINCT(service)) AS nombre_service FROM `employes`;</code>
                       </li>
                       <li>
                           Afficher 10 employés à partir de l'enregistrement 10 : <br>
                           <code> -> SELECT * FROM `employes` LIMIT 10,10;</code> 
                       </li>
                       <li>
                           Afficher les salaires qui sont touchées par plus qu'un employé : <br>
                           <code> -> SELECT salaire, COUNT(*) FROM `employes` GROUP BY salaire HAVING COUNT(*) > 1;</code>
                       </li>
                       <li>Afficher les informations de l'employé du service commercial gagnant le salaire le plus élevé : <br>
                        <code> -> SELECT * FROM `employes` WHERE service = 'commercial' AND salaire IN (SELECT MAX(salaire) FROM employes WHERE service = 'commercial');</code> <br>
                        <code> -> SELECT * FROM `employes` WHERE salaire IN (SELECT MAX(salaire) FROM employes WHERE service = 'commercial');</code>

                       </li>
                       <li>Afficher l'employé ayant été embauché en dernier : <br>
                        <code> -> SELECT * FROM `employes` ORDER BY date_embauche DESC LIMIT 0,1;</code> <br>
                        <code> -> SELECT * FROM employes WHERE date_embauche IN (SELECT MAX(date_embauche) FROM employes);</code>
                       </li>
                    </ul>
                </div>
                <div class="col-sm-12 py-5 mt-5 border border-dark">
                    <h3 class="text-center">BDD haribo</h3>
                    <ul>
                        <li>Lister toutes les BDD de PHPMyAdmin : <br> <code>-> SHOW DATABASES;</code></li>
                        <li>Créer une base de données SQL nommée HARIBO : <br> <code>-> CREATE DATABASE HARIBO;</code></li>
                        <li>Créer les tables stagiaire, bonbon et mange_bonbon : <br> <code>-> CREATE TABLE stagiaire(id_users int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, name VARCHAR(20), color VARCHAR(20), sexe ENUM('f', 'm'));</code> <br> <code>-> CREATE TABLE bonbons(id_bonbon int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, name VARCHAR(20), goût VARCHAR(20));</code> <br> <code>-> CREATE TABLE mange_bonbon(id_manger int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, id_bonbon int(11) NULL, id_stagiaire int(11) NULL, date_manger DATE NULL, quantite INT(11));</code></li>
                        <li>Insérer dans ces tables les informations suivantes : <br> -- -> table stagiaire
                            -- ('jhordan', 'marron','m'),('MohamedA', 'marron','m'),('Anas', 'marron','m'),
                            -- ('MohamedB', 'marron','m'),('Mehdi', 'marron','m'),('Mathieu', 'marron','m'),
                            -- ('Hakim', 'marron','m'),('Sonia', 'marron','f'),('Julie', 'marron','f'),
                            -- ('Assa', 'marron','f'), ('Magalie', 'marron','f'),('Yvette', 'marron','f') <br> -- -> table bonbon 
                            -- ('dragibus', 'cola'), ('tagada', 'fraise'), ('bams', 'banane'),('rotella', 'reglisse'),('floppys', 'sucre'),('rainbollows', 'marshmallow'),('bigharri', 'cerise'), ('oursor', 'fruits'),('croco', 'fruits'),('oeufoplat', 'guimauve'),
                            -- ('flanbotti', 'caramel') <br> -- -> table mange bonbon 
                            -- (4,7,'2018-12-20', 5),(1,1,'2018-12-05', 5),(2,2,'2018-12-03', 5),(3,3,'2018-12-04', 5),(5,4,'2018-12-15', 5),(6,5,'2018-12-18', 5),(7,6,'2018-12-22', 5),(8,8,'2018-12-25', 5),(9,9,'2018-12-24', 5),(10,10,'2018-12-01', 5),(11,11,'2018-12-06', 5) : <br> <code>-> INSERT INTO stagiaire (name, color, sexe) VALUES ('Jhordan', 'marron', 'm'),('MohamedA', 'marron', 'm'),('Anas','marron','m'),('MohamedB','marron','m'),('Mehdi','marron','m'),('Mathieu','marron','m'),('Hakim','marron','m'),('Sonia','marron','f'),('Julie','marron','f'),('Assa','marron','f'),('Magalie','marron','f'),('Yvette','marron','f');</code> <br> <code>-> INSERT INTO bonbons (name, goût) VALUES ('dragibus', 'cola'),('tagada', 'fraise'),('bams','banane'),('rotella','reglisse'),('floppys','sucre'),('rainbollows','marshmallow'),('bigharri','cerise'),('oursor','fruits'),('croco','fruits'),('oeufoplat','guimauve');</code> <br> <code>-> INSERT INTO mange_bonbon (id_bonbon, id_stagiaire, date_manger, quantite) VALUES (4, 7, '2018-12-20', 5),(1, 1, '2018-12-05', 5),(2, 2,'2018-12-03', 5),(5, 4, '2018-12-18', 5),(6, 5,'2018-12-18', 5),(7, 6, '2018-12-22', 5),(8, 8, '2018-12-25', 5),(9, 9,'2018-12-24', 5),(10, 10 ,'2018-12-01', 5),(11, 11, '2018-12-06', 5);</code></li>
                        <li>Lister les tables de la BDD *haribo* : <br> <code>-> SHOW TABLES;</code></li>
                        <li>Voir les paramètres de la table *bonbon* : <br> <code>-> DESC bonbons;</code> <br> <code>-> SHOW COLUMNS FROM bonbons;</code> <br> <code>-> DESCRIBE bonbons;</code></li>
                        <li>Sélectionner tous les champs de tous les enregistrements de la table *stagiaire*: <br> <code>-> SELECT * FROM stagiaire;</code></li>
                        <li>Rajouter un nouveau stagiaire *Patriiiick* en forçant la numérotation de l'id : <br> <code>-> INSERT INTO stagiaire (id_users , name, color, sexe) VALUES (100, 'Patriiiick', 'bleu', 'm');</code> <br> <code>-> INSERT INTO stagiaire SET id_users = 100, name = 'Patriiiick', color ='bleu', sexe = 'm';</code></li>
                        <li>Rajouter un nouveau stagiaire *Mila* SANS forcer la numérotation de l'id : <br> <code>-> INSERT INTO stagiaire (name, color, sexe) VALUES ('Mila', 'marron', 'f');</code></li>
                        <li>Changer le prénom du stagiaire qui a l'id 100 de *Patriiiick* à *Patrick* : <br> <code>-> UPDATE stagiaire SET name = 'Patrick' WHERE name = 'Patriiiick';</code> <br> <code>-> UPDATE stagiaire SET name = 'Patrick' WHERE id_users = 100;</code></li>
                        <li>Rajouter dans la table manger que Patrick a mangé 5 Tagada purple le 15 septembre: <br> <code>-> INSERT INTO bonbons (name, goût) VALUES ('tagada', 'purple');</code> <br> <code>-> INSERT INTO mange_bonbon (id_bonbon, id_stagiaire, date_manger, quantite) VALUES (2, 100, '2018-09-15', 5); </code></li>
                        <li>Sélectionner tous les noms des bonbons <br> <code>-> SELECT name FROM bonbons;</code></li>
                        <li>Sélectionner tous les noms des bonbons en enlevant les doublons : <br> <code>-> SELECT DISTINCT(name) FROM bonbons;</code></li>
                        <li>Récupérer les couleurs des yeux des stagiaires (Sélectionner plusieurs champs dans une table) : <br> <code>-> SELECT color, name FROM stagiaire;</code></li>
                        <li>Dédoublonner un résultat sur plusieurs champs : <br> <code>-> SELECT name, color FROM stagiaire GROUP BY color;</code></li>
                        <li>Sélectionner le stagiaire qui a l'id 5 : <br> <code>-> SELECT name FROM stagiaire WHERE id_users = 5;</code></li>
                        <li>Sélectionner tous les stagiaires qui ont les yeux marrons : <br> <code>-> SELECT name, color FROM stagiaire WHERE color = 'marron';</code></li>
                        <li>Sélectionner tous les stagiaires dont l'id est plus grand que 9 : <br> <code>-> SELECT name, id_users FROM stagiaire WHERE id_users > 9;</code></li>
                        <li>Sélectionner tous les stagiaires SAUF celui dont l'id est 13 (soyons supersticieux !) :!\ il y a 2 façons de faire : <br> <code>-> SELECT name, id_users FROM stagiaire WHERE id_users != 13;</code> <br> <code>-> SELECT name, id_users FROM stagiaire WHERE (id_users > 13) OR (id_users &lt; 13);</code></li>
                        <li>Sélectionner tous les stagiaires qui ont un id inférieur ou égal à 10 : <br> <code>-> SELECT name, id_users FROM stagiaire WHERE id_users <= 10;</code> <br> <code>-> SELECT name, id_users FROM stagiaire WHERE id_users &lt;= 11 AND id_users >= 7</code></li>
                        <li>Sélectionner tous les stagiaires dont l'id est compris entre 7 et 11 : <br> <code>-> SELECT name, id_users FROM stagiaire WHERE id_users BETWEEN 7 AND 11;</code></li>
                        <li>Sélectionner les stagiaires dont le prénom commence par un *S* : <br> <code>-> SELECT name FROM stagiaire WHERE name LIKE 's%';</code></li>
                        <li> Trier les stagiaires femmes par id décroissant : <br> <code>-> SELECT name, id_users FROM stagiaire WHERE sexe = 'f' ORDER BY id_users DESC</code></li>
                        <li>Trier les stagiaires hommes par prénom dans l'ordre alphabétique : <br> <code>-> SELECT name FROM stagiaire WHERE sexe = 'm' ORDER BY name ASC;</code></li>
                        <li>Trier les stagiaires en affichant les femmes en premier et en classant les couleurs des yeux dans l'ordre alphabétique : <br> <code>-> SELECT * FROM stagiaire  ORDER BY sexe ASC, color ASC;</code></li>
                        <li>Limiter l'affichage d'une requête de sélection de tous les stagiaires aux 3 premires résultats : <br> <code>-> SELECT * FROM stagiaire LIMIT 0,3;</code></li>
                        <li>Limiter l'affichage d'une requête de sélection de tous les stagiaires à partir du 3ème résultat et des 5 suivants : <br> <code>-> SELECT * FROM stagiaire LIMIT 3,5;</code></li>
                        <li>Afficher les 4 premiers stagiaires qui ont les yeux marron : <br> <code>-> SELECT name, color, id_users FROM stagiaire WHERE color = 'marron' LIMIT 0,4;</code></li>
                        <li>Pareil mais en triant les prénoms dans l'ordre alphabétique : <br> <code>-> SELECT * FROM stagiaire WHERE color = 'marron' ORDER BY name ASC LIMIT 0,4;</code></li>
                        <li>Compter le nombre de stagiaires : <br> <code>-> SELECT COUNT(*) AS nombre_stagiaires FROM stagiaire;</code></li>
                        <li>Compter le nombre de stagiaires hommes mais en changeant le nom de la colonne de résultat par *nb_stagiaires_H* : <br> <code>-> SELECT sexe, COUNT(*) AS nb_stagiaires_H FROM stagiaire WHERE sexe = 'm';</code></li>
                        <li>Compter le nombre de couleurs d'yeux différentes : <br> <code>-> SELECT COUNT(DISTINCT(color)) AS eyes_different_color FROM stagiaire;</code></li>
                        <li>Afficher le prénom et les yeux du stagiaire qui a l'id le plus petit : <br> <code>-> SELECT MIN(id_users), name, color FROM stagiaire;</code></li>
                        <li>Afficher le prénom et les yeux du stagiaire qui a l'id le plus grand /!\ c'est une requête imbriquée qu'il faut faire (requête sur le résultat d'une autre requête) <br> <code>-> SELECT name, color, id_users FROM stagiaire WHERE id_users = (SELECT MAX(id_users) FROM stagiaire);</code></li>
                        <li>Afficher les stagiaires qui ont les yeux bleu et vert : <br> <code>-> SELECT color, name FROM stagiaire WHERE color != 'marron';</code> <br> <code>-> SELECT * FROM stagiaire WHERE color IN ('vert','bleu');</code> <br> <code>-> SELECT * FROM stagiaire WHERE (color = 'vert' OR color = 'bleu');</code> <code>-> SELECT * FROM stagiaire WHERE (color = 'vert' || color = 'bleu');</code></li>
                        <li>A l'inverse maintenant, afficher les stagiaires qui n'ont pas les yeux bleu ni vert : <br> <code>-> SELECT color, name FROM stagiaire WHERE color = 'marron';</code> <br> <code>-> SELECT * FROM stagiaire WHERE color != 'bleu' AND color !='vert';</code> <br> <code>-> SELECT name, color FROM stagiaire WHERE color NOT IN ('vert', 'bleu'); </code></li>
                        <li>Afficher combien de bonbons ont été consommés au total : <br> <code>-> SELECT SUM(quantite) AS bonbon_manger FROM mange_bonbon;</code></li>
                        <li>Afficher les saveurs des bonbons (sans doublons) : <br> <code>-> SELECT goût FROM bonbons GROUP BY goût;</code> <br> <code>-> SELECT DISTINCT goût FROM bonbons;</code></li>
                        <li>Afficher tous les stagiaires qui ont mangé des bonbons : <br> <code>-> SELECT s.name, b.name FROM stagiaire s, bonbons b, mange_bonbon m_b WHERE s.id_users = m_b.id_stagiaire AND b.id_bonbon = m_b.id_bonbon;</code> <br> <code>-> SELECT name FROM stagiaire WHERE id_users IN (SELECT id_stagiaire FROM mange_bonbon);</code></li>
                        <li>Récupérer les informations sur les stagiaires qui ont mangé plus d'un bonbon : <br> <code>-> SELECT s.name, s.id_users, m_b.quantite FROM stagiaire s, bonbons b, mange_bonbon m_b WHERE s.id_users = m_b.id_stagiaire AND b.id_bonbon = m_b.id_bonbon AND m_b.quantite > 1;</code> <br> <code>-> SELECT name FROM stagiaire WHERE id_users IN (SELECT id_stagiaire FROM mange_bonbon WHERE quantite > 1);</code></li>
                        <li>Afficher le prénom, le nom des bonbons et la date de consommation pour tous les stagiaires qui en ont mangé au moins une fois : <br> <code>-> SELECT s.name, s.id_users, m_b.quantite, m_b.date_manger FROM stagiaire s, bonbons b, mange_bonbon m_b WHERE s.id_users = m_b.id_stagiaire AND b.id_bonbon = m_b.id_bonbon AND m_b.quantite >= 1;</code></li>
                        <li>Afficher le nombre de Tagada consommés : <br> <code>-> SELECT b.name, COUNT(m_b.quantite) FROM bonbons b, mange_bonbon m_b WHERE b.id_bonbon = m_b.id_bonbon AND b.name LIKE 'tagada%';</code></li>
                        <li>Afficher le total de Tagada consommés : <br> <code>-> SELECT b.name, SUM(m_b.quantite) FROM bonbons b, mange_bonbon m_b WHERE b.id_bonbon = m_b.id_bonbon AND b.name LIKE 'tagada%';</code></li>
                        <li>Afficher le prénom de la personne ayant consommé le plus de bonbon : <br> <code>-> SELECT s.name, m_b.quantite FROM stagiaire s, bonbons b, mange_bonbon m_b WHERE b.id_bonbon = m_b.id_bonbon AND s.id_users = m_b.id_stagiaire AND m_b.quantite IN (SELECT MAX(m_b.quantite) FROM mange_bonbon m_b);</code></li>
                    </ul>
                </div>
                <div class="col-sm-12 py-5 mt-5 border border-dark">
                    <h3 class="text-center">BDD immobilier</h3>
                    <ul>
                        <li>Création de la BDD 'immobilier' : <br> <code>-> CREATE DATABASE IF NOT EXISTS immobilier;</code></li>
                        <li>Création des tables agence, demande, logement, logement_agence, logement_personne, personne : <br> <code>-> CREATE TABLE IF NOT EXISTS agence(id_agence INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, nom VARCHAR(100), adresse VARCHAR(100));</code> <br> 
                        <code>-> CREATE TABLE IF NOT EXISTS demande(id_demande INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, id_personne INT(11), genre VARCHAR(100) NOT NULL, ville VARCHAR(100) NOT NULL, budget FLOAT NOT NULL, superficie FLOAT NOT NULL, categorie VARCHAR(100) NOT NULL, key id_personne (id_personne));</code> <br>
                        <code>-> CREATE TABLE IF NOT EXISTS logement(id_logement INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, genre VARCHAR(100) NOT NULL, ville VARCHAR(100), prix FLOAT NOT NULL, superficie FLOAT NOT NULL, categorie VARCHAR(100) NOT NULL);</code> <br> 
                        <code>-> CREATE TABLE IF NOT EXISTS logement_agence(id_logement_agence INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, id_agence INT(11), id_logement INT(11), frais FLOAT NULL, KEY id_agence (id_agence), KEY id_logement (id_logement));</code> <br> 
                        <code>-> CREATE TABLE IF NOT EXISTS logement_personne(id_logement_personne INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, id_personne INT(11), id_logement INT(11), frais FLOAT NULL, KEY id_personne (id_personne), KEY id_logement (id_logement));</code> <br> 
                        <code>-> CREATE TABLE IF NOT EXISTS personne(id_personne INT(11) NOT NULL AUTO_INCREMENT PRIMARY KEY, prenom VARCHAR (100) NOT NULL);</code></li>
                        <li>Création de clés étrangères (via des requêtes) : <br> 
                        <code>-> ALTER TABLE logement_agence ADD CONSTRAINT FOREIGN KEY (id_logement) REFERENCES logement (id_logment), ADD CONSTRAINT FOREIGN KEY (id_agence) REFERENCES agence (id_agence);</code> <br> 
                        <code>-> ALTER TABLE logement_personne ADD CONSTRAINT FOREIGN KEY (id_logement) REFERENCES logement (id_logment), ADD CONSTRAINT FOREIGN KEY (id_personne) REFERENCES personne (id_personne);</code> <br> 
                        <code>-> ALTER TABLE demande ADD CONSTRAINT FOREIGN KEY (id_personne) REFERENCES personne (id_personne);</code></li>
                        <li>Insertion des données dans les tables : <br> 
                        "agence"<code> -> INSERT INTO `agence` (`id_agence`, `nom`, `adresse`) VALUES (257400, 'logic-immo', 'rue logic'), (383505, 'century21', 'rue century'), (504585, 'laforet', 'rue laforet'), (544688, 'fnaim', 'rue fnaim'), (608870, 'orpi', 'rue orpi'), (654178, 'foncia', 'rue foncia'), (654658, 'guy-hoquet', 'rue guy-hoquet'), (654893, 'seloger', 'rue seloger'), (692702, 'bouygues immobilier', 'rue bouygues');</code> <br> 
                        "personne" <code> -> INSERT INTO `personne` (`id_personne`, `prenom`) VALUES (1, 'william'), (2, 'gaetan'), (3, 'mehdi'), (4, 'charles'), (5, 'brigitte'), (6, 'sarah'), (7, 'lucas'), (8, 'quentin'), (9, 'patrick'), (10, 'emmanuel'), (11, 'elodie'), (12, 'agathe'), (13, 'valentine'), (14, 'charlotte'), (15, 'alice'), (16, 'samuel'), (17, 'mathieu'), (18, 'noemie'), (19, 'simon'), (20, 'florian'), (21, 'clement'), (22, 'yvon'), (23, 'lea'), (24, 'chloe'), (25, 'camille'), (26, 'alexandre'), (27, 'julie'), (28, 'leo'), (29, 'antoine'), (30, 'lola'), (31, 'celia'), (32, 'anna'), (33, 'caroline'), (34, 'adele'), (35, 'sabrina'), (36, 'nathalie'), (37, 'franck'), (38, 'tom'), (39, 'johan'), (40, 'priscillia'), (41, 'assia'), (42, 'nathan'), (43, 'aurore'), (44, 'marie'), (45, 'oceane'), (46, 'enzo'), (47, 'ines'), (48, 'hugo'), (49, 'jonathan'), (50, 'axelle'), (51, 'morgane'), (52, 'melissa'), (53, 'kevin'), (54, 'ophelie'), (55, 'victoria'), (56, 'alexis'), (57, 'robin');</code> <br> 
                        "demande"<code> -> INSERT INTO `demande` (`id_demande`, `id_personne`, `genre`, `ville`, `budget`, `superficie`, `categorie`) VALUES (1, 1, 'appartement', 'paris', 530000, 120, 'vente'), (2, 3, 'appartement', 'bordeaux', 120000, 18, 'vente'), (3, 4, 'appartement', 'bordeaux', 145000, 21, 'vente'), (4, 5, 'appartement', 'bordeaux', 152000, 26, 'vente'), (5, 6, 'appartement', 'lyon', 200000, 55, 'vente'), (6, 7, 'appartement', 'paris', 400000, 55, 'vente'), (7, 9, 'appartement', 'paris', 171000, 40, 'vente'), (8, 13, 'appartement', 'paris', 163000, 25, 'vente'), (9, 16, 'appartement', 'paris', 132000, 15, 'vente'), (10, 19, 'appartement', 'paris', 350000, 80, 'vente'), (11, 22, 'appartement', 'lyon', 600, 20, 'location'), (12, 25, 'appartement', 'lyon', 188000, 65, 'vente'), (13, 27, 'appartement', 'paris', 400, 15, 'location'), (14, 28, 'appartement', 'paris', 330500, 100, 'vente'), (15, 31, 'appartement', 'paris', 90000, 15, 'vente'), (16, 32, 'appartement', 'lyon', 123800, 21, 'vente'), (17, 35, 'appartement', 'lyon', 1200, 70, 'vente'), (18, 37, 'appartement', 'lyon', 1500, 100, 'vente'), (19, 43, 'appartement', 'paris', 600, 20, 'location'), (20, 44, 'appartement', 'paris', 750, 30, 'location'), (21, 45, 'appartement', 'bordeaux', 680, 30, 'location'), (22, 46, 'appartement', 'bordeaux', 213000, 40, 'vente'), (23, 47, 'appartement', 'bordeaux', 700, 45, 'location'), (24, 48, 'appartement', 'paris', 195000, 40, 'vente'), (25, 49, 'appartement', 'paris', 250000, 60, 'vente'), (26, 50, 'appartement', 'lyon', 110000, 12, 'vente'), (27, 51, 'appartement', 'lyon', 500, 17, 'location'), (28, 52, 'appartement', 'paris', 800, 40, 'location'), (29, 53, 'appartement', 'paris', 850, 50, 'location'), (30, 54, 'appartement', 'paris', 177000, 40, 'vente'), (31, 55, 'appartement', 'paris', 630, 20, 'location');</code> <br> 
                        "logement" <code> -> INSERT INTO `logement` (`id_logement`, `genre`, `ville`, `prix`, `superficie`, `categorie`) VALUES (5067, 'appartement', 'paris', 685000, 61, 'vente'), (5089, 'appartement', 'paris', 115000, 15, 'vente'), (5091, 'maison', 'paris', 1510000, 130, 'vente'), (5122, 'appartement', 'bordeaux', 550, 17, 'location'), (5189, 'appartement', 'lyon', 420, 14, 'location'), (5245, 'appartement', 'paris', 360000, 40, 'vente'), (5246, 'appartement', 'paris', 970, 35, 'location'), (5249, 'appartement', 'lyon', 110000, 16, 'vente'), (5269, 'appartement', 'bordeaux', 171500, 33, 'vente'), (5278, 'appartement', 'paris', 802000, 90, 'vente'), (5324, 'appartement', 'lyon', 1090, 31, 'location'), (5336, 'appartement', 'bordeaux', 229600, 27, 'vente'), (5378, 'appartement', 'bordeaux', 121900, 26, 'vente'), (5412, 'appartement', 'paris', 1680, 40, 'location'), (5636, 'appartement', 'paris', 370000, 37, 'vente'), (5661, 'appartement', 'bordeaux', 248600, 36, 'vente'), (5723, 'maison', 'bordeaux', 370600, 45, 'vente'), (5770, 'appartement', 'paris', 339000, 38, 'vente'), (5778, 'appartement', 'bordeaux', 228600, 43, 'vente'), (5779, 'appartement', 'paris', 1310000, 105, 'vente'), (5786, 'appartement', 'paris', 570, 20, 'location'), (5860, 'appartement', 'bordeaux', 98000, 18, 'vente'), (5869, 'appartement', 'lyon', 683600, 60, 'vente'), (5873, 'appartement', 'lyon', 676700, 65, 'vente'), (5898, 'appartement', 'paris', 1890, 40, 'location'), (5961, 'appartement', 'bordeaux', 2650, 45, 'location'), (5963, 'appartement', 'paris', 520000, 60, 'vente'), (5964, 'appartement', 'paris', 280000, 38, 'vente');</code> <br> 
                        "logement_agence" <code> -> INSERT INTO `logement_agence` (`id_logement_agence`, `id_agence`, `id_logement`, `frais`) VALUES (1, 257400, 5067, 34250), (2, 383505, 5067, 30000), (3, 257400, 5089, 5750), (4, 692702, 5089, 7623), (5, 654178, 5091, 75500), (6, 544688, 5091, 56050), (7, 654893, 5122, 700), (8, 608870, 5189, 350), (9, 257400, 5245, 18856), (10, 544688, 5245, 14230), (11, 608870, 5246, 800), (12, 257400, 5249, 5500), (13, 608870, 5249, 7625), (14, 257400, 5269, 9500), (15, 544688, 5269, 8575), (16, 544688, 5278, 25689), (17, 608870, 5278, 40100), (18, 544688, 5324, 600), (19, 544688, 5336, 9542), (20, 608870, 5336, 11480), (21, 504585, 5378, 8652), (22, 608870, 5378, 6095), (23, 257400, 5412, 680), (24, 544688, 5636, 18500), (25, 608870, 5636, 13654), (26, 654893, 5661, 9462), (27, 654178, 5661, 11656), (28, 608870, 5723, 16233), (29, 504585, 5723, 19654), (30, 692702, 5770, 13655), (31, 654178, 5770, 16950), (32, 383505, 5778, 11430), (33, 654658, 5778, 12655), (34, 654178, 5779, 65500), (35, 654658, 5779, 45032), (36, 654178, 5786, 898), (37, 383505, 5786, 520), (38, 257400, 5860, 4900), (39, 654658, 5860, 8905), (40, 544688, 5869, 23685), (41, 654893, 5869, 34180), (42, 257400, 5873, 33835), (43, 257400, 5898, 900), (44, 383505, 5898, 250), (45, 692702, 5898, 1300), (46, 257400, 5961, 1240), (47, 504585, 5961, 300), (48, 692702, 5961, 890), (49, 257400, 5963, 27542), (50, 692702, 5963, 26000), (51, 383505, 5963, 18455);</code> <br> 
                        "logement_personne" <code> -> INSERT INTO `logement_personne` (`id_logement_personne`, `id_personne`, `id_logement`) VALUES (1, 40, 5067), (2, 41, 5089), (3, 42, 5091), (4, 2, 5122), (5, 39, 5189), (6, 7, 5245), (7, 8, 5246), (8, 10, 5249), (9, 18, 5269), (10, 21, 5278), (11, 17, 5324), (12, 36, 5336), (13, 20, 5378), (14, 29, 5412), (15, 24, 5636), (16, 34, 5661), (17, 14, 5723), (18, 57, 5770), (19, 26, 5778), (20, 56, 5779), (21, 12, 5786), (22, 11, 5860), (23, 23, 5869), (24, 38, 5873), (25, 33, 5898), (26, 15, 5961), (27, 30, 5963), (28, 56, 5964);</code></li>
                        <li>
                            Affichez les noms des agences : <br>
                            <code>-> SELECT nom FROM agence;</code>

                        </li>
                        <li> 
                            Affichez le premier enregistrement de la table logement : <br>
                            <code>-> SELECT * FROM logement LIMIT 1;</code> <br> 
                            <code>-> SELECT * FROM logement WHERE id_logement IN (SELECT MIN(id_logement) FROM logement);</code>
                    
                        </li>
                        <li>
                            Affichez le nombre de logements (Alias : Nombre_de_logements) :<br>
                            <code>-> SELECT COUNT(*) nombre_de_logements FROM logement;</code>
                        </li>
                        <li>
                            Affichez les logements à vendre à moins de 150 000 € dans l'ordre croissant des prix :<br>
                            <code>-> SELECT * FROM logement WHERE prix < 150000 ORDER BY prix ASC; </code>
                        </li>
                        <li>
                            Afficher le nombre de logements à la location (alias : 'nombre') :<br>
                            <code>-> SELECT COUNT(*) nombre_logement_location FROM logement WHERE categorie = 'location';</code> <br>
                            <code>-> SELECT COUNT(*) nombre_logement_location FROM logement WHERE categorie LIKE 'location%'; </code>
                        </li>
                        <li>
                            Afficher les villes différentes recherchées par les personnes demandeuses d'un logement :<br>
                            <code>-> SELECT DISTINCT(ville) FROM demande;</code>
                        </li>
                        <li>
                            Affichez le nombre de biens à vendre par ville : <br>
                            <code>-> SELECT ville, COUNT(*) logement_a_vendre FROM logement WHERE categorie LIKE 'vente%' GROUP BY ville;</code>
                        </li>
                        <li>
                            Quels sont les id des logements destinés à la location ? :<br>
                            <code>-> SELECT id_logement, genre FROM logement WHERE categorie LIKE 'location%';</code>
                        </li>
                        <li>
                            Quels sont les id des logements entre 20 et 30m² ? :<br>
                            <code>-> SELECT id_logement, genre FROM logement WHERE superficie BETWEEN 20 AND 30; </code>
                        </li>
                        <li>
                            Quel est le prix du vendeur de logement le moins cher à vendre ? :<br>
                            <code>-> SELECT MIN(prix) logement_le_moins_cher FROM logement WHERE categorie LIKE 'vente%';</code> <br> 
                            <code>-> SELECT * FROM logement WHERE prix IN (SELECT MIN(prix) FROM logement WHERE categorie LIKE 'vente%');</code>
                        </li>
                        <li>
                            Dans quelle ville se trouve les maisons à vendre ? :<br>
                            <code>-> SELECT ville, COUNT(*) maison_a_vendre FROM logement WHERE categorie LIKE 'vente%' AND genre LIKE 'maison%' GROUP BY ville;</code>
                        </li>
                        <li>
                            L'agence Orpi souhaite diminuer les frais qu'elle applique sur le logement ayant l'id «5246». Passer les frais de ce logement de 800 à 730€ :<br>
                            <code>-> UPDATE `logement_agence` SET `frais`= 730 WHERE id_agence IN(SELECT id_agence FROM agence WHERE nom LIKE 'orpi%') AND id_logement = 5246;</code>
                        </li>
                        <li>
                            Quels sont les logements gérés par l'agence « laforet » :<br>
                            <code>-> SELECT a.nom, la.id_logement FROM agence a, logement_agence la WHERE a.nom LIKE 'laforet%' AND la.id_agence = a.id_agence;</code>
                        </li>
                        <li>
                            Affichez le nombre de propriétaires dans la ville de Paris (Alias : Nombre propriétaire parisien) :<br>
                            <code>-> SELECT COUNT(*) nombre_proprio_paris FROM logement WHERE categorie LIKE 'vente%' AND ville LIKE 'paris%';</code> <br>
                            <code>-> SELECT COUNT(*) nombre_proprio_paris FROM personne WHERE id_personne IN(SELECT id_personne FROM logement_personne WHERE id_logement IN(SELECT id_logement FROM logement WHERE ville LIKE 'paris%' AND categorie LIKE 'vente%'));</code> <br>
                            <code>-> SELECT COUNT(*) nombre_proprio_paris FROM personne WHERE id_personne IN(SELECT id_personne FROM logement_personne WHERE id_logement IN(SELECT id_logement FROM logement WHERE ville = 'paris' AND categorie = 'vente'));</code> <br>
                            <code>-> SELECT COUNT(DISTINCT(logement_personne.id_personne)) nombre_proprio_paris FROM logement_personne, logement WHERE logement_personne.id_logement = logement.id_logement AND logement.ville = 'paris' AND logement.categorie = 'vente';</code>
                        </li>
                        <li>
                            Afficher les infos des trois premières personnes souhaitant acheter un logement :<br>
                            <code>-> SELECT * FROM demande WHERE categorie LIKE 'vente%' LIMIT 0,3;</code> <br>
                            <code>-> SELECT * FROM personne WHERE id_personne IN(SELECT id_personne FROM demande WHERE categorie LIKE 'vente%') LIMIT 0,3;</code> <br>
                            <code>-> SELECT * FROM personne, demande WHERE personne.id_personne = demande.id_personne AND demande.categorie = 'vente' ORDER BY demande.id_demande LIMIT 0,3;</code>
                        </li>
                        <li>
                            Affichez les noms des agences vendeuses pour le logement ayant la référence « 5770 » ::<br>
                            <code>-> SELECT a.nom, l.id_logement FROM logement l, logement_agence la, agence a WHERE la.id_logement = l.id_logement AND a.id_agence = la.id_agence AND la.id_logement = 5770 AND l.categorie LIKE 'vente%';</code>
                        </li>
                        <li>
                            Affichez les prénoms des personnes souhaitant accéder à un logement sur la ville de Lyon ::<br>
                            <code>-> SELECT p.prenom, d.categorie FROM personne p, demande d WHERE p.id_personne = d.id_personne AND d.ville LIKE 'lyon%';</code> <br>
                            <code>-> SELECT * FROM personne WHERE id_personne IN(SELECT id_personne FROM demande WHERE ville = 'lyon');</code>
                        </li>
                        <li>
                            Affichez les prénoms des personnes souhaitant accéder à un logement en location sur la ville de Paris :<br>
                            <code>-> SELECT p.prenom, d.categorie FROM personne p, demande d WHERE p.id_personne = d.id_personne AND d.ville LIKE 'paris%' AND categorie LIKE 'location%';</code> <br> 
                            <code>-> SELECT * FROM personne WHERE id_personne IN(SELECT id_personne FROM demande WHERE ville = 'lyon' AND categorie = 'location');</code>
                        </li>
                        <li>
                            Affichez les prénoms des personnes souhaitant acheter un logement de la plus grande à la plus petite superficie :<br>
                            <code>-> SELECT p.prenom, d.superficie FROM personne p, demande d WHERE p.id_personne = d.id_personne AND categorie LIKE 'vente%' ORDER BY superficie DESC;</code>
                        </li>
                        <li>
                            Quels sont les prix finaux proposés par les agences pour la maison à la vente ayant la référence « 5091 » ? (Alias : prix frais d'agence inclus) :<br>
                            <code>-> SELECT (l.prix + la.frais) prix_agence_frais_inclus, a.nom FROM logement l, logement_agence la, agence a WHERE la.id_logement = 5091 AND l.id_logement = la.id_logement AND la.id_agence = a.id_agence;</code>
                        </li>
                        <li>
                            Indiquez le prix total (prix et frais d'agence) pour le logement ayant la référence « 5873 »<br>
                            <code>-> SELECT (l.prix + la.frais) prix_agence_frais_inclus, a.nom FROM logement l, logement_agence la, agence a WHERE la.id_logement = 5873 AND l.id_logement = la.id_logement AND la.id_agence = a.id_agence;</code> <br> 
                            <code>-> SELECT logement.prix + logement_agence.frais prix_agence_frais_inclus FROM logement, logement_agence WHERE logement.id_logement = 5873 AND logement_agence.id_logement = 5873;</code>
                        </li>
                        <li>
                            Si l'ensemble des logements étaient vendus ou loués demain, quel serait le bénéfice généré grâce aux frais d'agence et pour chaque agence (Alias : benefice, classement : par ordre croissant des gains) :<br>
                            <code>-> SELECT SUM(la.frais) benefice, a.nom FROM logement_agence la, agence a WHERE a.id_agence = la.id_agence GROUP BY la.id_agence ORDER BY benefice;</code> <br>
                            <code>-> SELECT SUM(logement_agence.frais) benefice FROM logement_agence GROUP BY logement_agence.id_agence ORDER BY benefice;</code>
                        </li>
                        <li>
                            Affichez les id des biens en location, les prix, suivis des frais d'agence (classement : dans l'ordre croissant des prix) :<br>
                            <code>-> SELECT l.id_logement, l.prix, la.frais FROM logement l, logement_agence la WHERE l.id_logement = la.id_logement AND l.categorie LIKE 'location%' ORDER BY l.prix;</code> <br>
                        </li>
                        <li>
                            Quel est le prénom du propriétaire proposant le logement le moins cher à louer ? :<br>
                            <code>-> SELECT p.prenom, l.id_logement, l.genre, l.categorie, l.prix FROM personne p, logement l, logement_personne lp WHERE l.id_logement = lp.id_logement AND p.id_personne = lp.id_personne AND l.categorie LIKE 'location%' AND l.prix IN(SELECT MIN(l.prix) FROM logement l);</code>
                        </li>
                        <li>
                            Quel est le nom de l'agence proposant le logement le moins cher à louer ? : <br>
                            <code>-> SELECT a.nom, l.id_logement, l.genre, l.categorie, l.prix FROM agence a, logement l, logement_agence la WHERE l.id_logement = la.id_logement AND a.id_agence = la.id_agence AND l.categorie LIKE 'location%' AND l.prix IN(SELECT MIN(l.prix) FROM logement l);</code> <br>
                            <code>-> SELECT agence.nom, logement.prix FROM agence, logement, logement_agence WHERE logement_agence.id_agence = agence.id_agence AND logement_agence.id_logement = logement.id_logement AND logement.categorie LIKE 'location%' ORBER BY prix LIMIT 1;</code> <br> 
                            <!-- <code>-> SELECT nom FROM agence WHERE id_agence IN(SELECT id_agence FROM logement_agence WHERE id_logement IN(SELECT id_logement FROM loegment WHERE categorie LIKE 'location%' ORDER BY prix)) LIMIT 1;</code> -->
                        </li>
                        <li>
                            Affichez le prénom et la ville où se trouve le logement de chaque propriétaire : <br>
                            <code>-> SELECT p.prenom, l.ville FROM logement l, personne p, logement_personne lp WHERE p.id_personne = lp.id_personne AND l.id_logement = lp.id_logement AND l.categorie LIKE 'vente%';</code>
                        </li>
                        <li>
                            Obtenir la liste des 10 villes les plus peuplées en 2012 :<br>
                            <code>-> </code>
                        </li>
                        <li>
                            Obtenir la liste des 50 villes ayant la plus faible superficie :<br>
                            <code>-> </code>
                        </li>
                        <li>
                            Obtenir la liste des départements d’outres-mer, c’est-à-dire ceux dont le numéro de département commencent par “97” :<br>
                            <code>-> </code>
                        </li>
                        <li>
                            Obtenir le nom des 10 villes les plus peuplées en 2012, ainsi que le nom du département associé :<br>
                            <code>-> </code>
                        </li>
                    </ul>
                </div>
            </div>      
        </main>  
    </div> <!-- fin du container fluid -->

<!-- Récupérer le nom , le prénom et le service des employé qui ont une lettre t à la fin du prénom et stravailent dans le service  commercial et comptabilité -->
<!-- SELECT nom, prenom, service FROM `employes` WHERE prenom LIKE '%t' AND service IN ('comptabilite', 'commercial');  -->

<!-- Récupérer le nom , le prénom et la date d'embauche des employés qui ont été embaucher après 2007 et ont le sexe = 'f '  -->
<!-- SELECT nom, prenom, sexe, date_embauche FROM `employes` WHERE sexe = 'f' AND date_embauche BETWEEN '2007-01-01' AND '2023/01/01';  -->
<!-- ou -->
<!-- SELECT nom, prenom, sexe, date_embauche FROM `employes` WHERE sexe = 'f' AND date_embauche BETWEEN '2007-01-01' AND CURDATE();  -->
<!-- ou -->
<!-- SELECT nom, prenom, sexe, date_embauche FROM `employes` WHERE sexe = 'f' AND date_embauche >= '2007-01-01';  -->

<!-- Récuperer les différents salaire touchées dans la base entreprise  -->
<!-- SELECT DISTINCT salaire FROM `employes`;  -->

<!-- Récuperer les noms des employés qui ont un salaire entre 1400 et 4000 -->
<!-- SELECT nom, salaire FROM `employes` WHERE salaire BETWEEN 1400 AND 4000;  -->


<!-- SELECT salaire, COUNT(*) AS salaires_employes FROM `employes` GROUP BY salaire; -->

   <!-- Bootstrap JavaScript Libraries -->
   <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
   integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
   </script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
   integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
   </script>
</body>